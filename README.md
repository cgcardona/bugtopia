# 🧬 Bugtopia: Evolutionary Arena Simulator

> **An AI-powered evolutionary simulation where digital organisms adapt to complex environmental challenges through genetic algorithms and natural selection.**

![Swift](https://img.shields.io/badge/Swift-6.0+-orange?style=flat&logo=swift)
![SwiftUI](https://img.shields.io/badge/SwiftUI-Latest-blue?style=flat&logo=apple)
![Platform](https://img.shields.io/badge/Platform-macOS%20%7C%20iOS-lightgrey?style=flat&logo=apple)
![License](https://img.shields.io/badge/License-MIT-green?style=flat)

## 🌟 Overview

Bugtopia is a cutting-edge evolutionary simulation where digital organisms with **evolvable neural networks** compete in complex predator-prey ecosystems. Watch as bugs develop artificial intelligence, hunt each other, and evolve increasingly sophisticated brains over generations—all while adapting to dynamic weather patterns and seasonal cycles through natural selection and genetic algorithms.

### ✨ What Makes It Revolutionary

- **🧠 Evolvable Neural Networks**: Bugs grow deeper, more complex brains (3-10 layers) through structural evolution
- **🦁 Predator-Prey Dynamics**: Four species types (herbivores, carnivores, omnivores, scavengers) in dynamic food webs
- **🔧 Environmental Engineering**: Bugs create tools, modify terrain, and build infrastructure to solve problems
- **🌍 Organic World Generation**: 7 unique world types with natural terrain patterns - no artificial borders
- **🗣️ Social Intelligence**: Signal-based communication, pack hunting, and cooperative construction
- **🧬 Advanced Genetics**: 20+ evolvable traits including AI, tools, communication, and species behaviors
- **🧬 Population Speciation**: Automatic species formation through reproductive isolation and genetic divergence
- **🌦️ Dynamic Weather & Seasons**: Four seasons plus 6 weather types with real-time environmental effects and survival challenges
- **🌋 Natural Disasters**: 4 catastrophic events (Floods, Earthquakes, Wildfires, Volcanic) that reshape terrain and drive evolutionary pressure
- **🤖 Emergent Intelligence**: Neural decision-making for movement, hunting, fleeing, building, and social interactions
- **📊 Real-time Evolution**: Watch genetics, neural architecture, and population dynamics evolve simultaneously
- **🎨 Beautiful Visualization**: Animated terrain, construction sites, tools, neural networks, and seasonal progress

## 🎮 Features

### 🧠 Artificial Intelligence Evolution
- **Evolvable Neural Networks**: 3-10 layer networks with variable topology
- **Structural Mutations**: Networks grow/shrink layers and change activation functions
- **Smart Decision Making**: 34 sensory inputs (including seasonal and weather awareness) → 8 behavioral outputs
- **Emergent Behaviors**: Hunting strategies, fleeing patterns, exploration drives

### 🦁 Predator-Prey Ecosystem
- **Four Species Types**: Herbivores 🌱, Carnivores 🦁, Omnivores 🐺, Scavengers 🦅
- **Dynamic Food Web**: Hunting, energy transfer, and predator avoidance
- **Species-Specific Traits**: Hunt intensity, prey detection, flee speed, stealth
- **Evolutionary Arms Race**: Predators vs prey intelligence co-evolution

### 🗣️ Communication & Cooperation System
- **8 Signal Types**: Food alerts, danger warnings, hunt calls, group formation, help requests
- **Evolvable Communication**: Signal strength, sensitivity, trust levels, social response rates
- **Pack Behaviors**: Coordinated hunting, group formation, collective danger responses
- **Social Intelligence**: Neural-driven communication decisions and cooperation strategies
- **Information Networks**: Knowledge sharing about food sources, threats, and territories

### 🔧 Environmental Modification & Tool Use
- **8 Tool Types**: Bridges, tunnels, shelters, traps, markers, levers, ramps, nests
- **Resource Economy**: 5 resource types with weight-based carrying and regeneration
- **Construction Intelligence**: Environmental analysis, multi-stage building, cooperative projects
- **Engineering Evolution**: 8 evolvable tool traits including crafting, proficiency, and collaboration
- **Infrastructure Networks**: Tools persist across generations, creating technological heritage

### 🌍 Organic World Generation
- **7 World Types**: Continental, Archipelago, Canyon, Wetlands, Volcanic, Plains, Maze
- **Natural Boundaries**: No forced edge walls - terrain flows organically to boundaries
- **Spatial Correlation**: Multi-octave noise creates realistic terrain clustering
- **Unique Experiences**: Different world type selected each app launch for variety

### 🧬 Population Dynamics & Speciation
- **Automatic Population Tracking**: Bugs organized into genetically similar populations
- **Reproductive Isolation**: Compatibility calculations affect breeding success between populations
- **Dynamic Species Formation**: Populations naturally split based on genetic/geographic divergence
- **Species Naming**: Intelligent naming based on habitat and behavioral specializations
- **Extinction & Migration Events**: Realistic population dynamics with bottlenecks and recolonization
- **Real-time Speciation Monitoring**: Live tracking of active populations and recent evolutionary events

### 🌦️ Dynamic Weather & Seasonal System
- **Four Seasons**: Spring (growth), Summer (abundance), Fall (preparation), Winter (scarcity)
- **Six Weather Types**: Clear ☀️, Rain 🌧️, Drought 🏜️, Blizzard ❄️, Storm ⛈️, Fog 🌫️
- **Environmental Effects**: Weather and seasonal modifiers for movement, vision, energy, food spawning, construction
- **Survival Challenges**: Heat damage, cold damage, reduced visibility, movement penalties
- **Reproductive Cycles**: Seasonal breeding patterns with temperature-based reproduction thresholds
- **Neural Weather Awareness**: 14 new neural inputs (8 seasonal + 6 weather) for environmental decision-making  
- **Visual Weather Effects**: Animated rain, snow, fog overlays with lightning during storms
- **Beautiful Progress Tracking**: Live seasonal and weather progress bars with survival advice

### 🌋 Natural Disasters & Catastrophic Events
- **Four Disaster Types**: Floods 🌊, Earthquakes ⚡, Wildfires 🔥, Volcanic Eruptions 🌋
- **Smart Spawning**: Season and weather-influenced disaster probabilities with realistic triggers
- **Terrain Reshaping**: Permanent changes to world layout, accessibility, and resource distribution
- **Survival Mechanics**: Bug displacement, resource destruction, population pressure, habitat fragmentation
- **Neural Disaster Awareness**: 6 new disaster inputs (40 total) help bugs sense and flee catastrophes
- **Visual Disaster Effects**: Fire spreading, earthquake shaking, flood overlays, volcanic ash clouds
- **Evolutionary Pressure**: Mass casualties drive rapid selection for disaster-resistant traits
- **Migration Triggers**: Catastrophes force population movement and territorial redistribution

### 🧬 Advanced Genetic System
- **Core Traits**: Speed, Vision, Energy Efficiency, Size, Strength
- **Neural Traits**: Network topology, weights, biases, activation functions  
- **Behavioral Traits**: Memory, Stickiness, Camouflage, Curiosity, Aggression
- **Communication Traits**: Signal strength, sensitivity, frequency, trust, social response
- **Tool Traits**: Crafting, proficiency, vision, construction drive, carrying capacity, resource gathering
- **Species Traits**: Hunting/defensive behaviors, metabolic rates, size modifiers
- **Genetic Operations**: Crossover, mutation, structural evolution, selection pressure
- **Multi-Modal Fitness**: Survival, reproduction, terrain adaptation, predator success, social cooperation, tool use

### 🌍 Environmental Arena
| Terrain | Challenge | Adaptation Required |
|---------|-----------|-------------------|
| 🪨 **Walls** | Block movement | Memory + pathfinding |
| 🌊 **Water** | Speed challenge | Fast movement + efficiency |
| ⛰️ **Hills** | Climbing difficulty | Physical strength |
| 🌫️ **Shadow** | Limited vision | Enhanced memory |
| 🦁 **Predator** | Danger zones | Aggression or camouflage |
| 💨 **Wind** | Movement disruption | Size and stability |
| 🌱 **Food Zones** | Resource abundance | Exploration skills |
| ⬛ **Open** | Normal terrain | Baseline traits |

### 🎯 Emergent AI Behaviors
- **Neural Decision Making**: AI-driven movement, hunting, fleeing, and construction decisions
- **Environmental Engineering**: Analyzing terrain to decide optimal tool placement and construction
- **Resource Management**: Strategic gathering, storage, and allocation for construction projects
- **Cooperative Construction**: Multi-bug collaboration on large-scale building projects
- **Infrastructure Planning**: Creating transportation networks and settlement optimization
- **Tool Innovation**: Developing new construction techniques and tool usage strategies
- **Predator-Prey Dynamics**: Stalking, ambushing, pack hunting, and escape strategies
- **Communication Networks**: Signal-based information sharing about food, danger, and opportunities
- **Social Hierarchies**: Leadership roles, specialization (scouts, guards, foragers, hunters, builders)
- **Terrain Adaptation**: Dynamic speed/energy modifiers with species-specific advantages and tool assistance
- **Technology Heritage**: Maintaining and improving tools across generations
- **Adaptive Learning**: Neural networks develop specialized strategies over generations

### 📊 Advanced Analytics
- **Neural Network Visualization**: Live topology, weights, and decision outputs for any bug
- **Species Demographics**: Population ratios, predator success rates, extinction events
- **Population Statistics**: Real-time tracking of genetic and neural evolution
- **Individual Inspection**: Detailed DNA, neural architecture, and hunting/defensive behaviors
- **Evolution Tracking**: Cross-generational adaptation in both genetics and AI
- **Ecosystem Analytics**: Food web dynamics, energy flow, and species interactions

## 🚀 Getting Started

### Prerequisites
- **Xcode 15.0+** with Swift 6.0 support
- **macOS 14.0+** or **iOS 17.0+**
- Git for version control

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/bugtopia.git
   cd bugtopia
   ```

2. **Open in Xcode**
   ```bash
   open Bugtopia.xcodeproj
   ```

3. **Build and Run**
   - Select your target device (Mac or iOS Simulator)
   - Press `⌘+R` to build and run

### Quick Start Guide

1. **Launch the Simulation**: The arena auto-generates with 90 initial bugs across balanced species
2. **Observe Evolution**: Watch bugs navigate terrain, seek food, and adapt to weather and seasonal changes
3. **Inspect Individuals**: Click any bug to see its genetic traits, neural network, and environmental adaptations
4. **Track Environment**: Monitor weather patterns, seasonal cycles, and their effects on population dynamics
5. **Watch Generations**: Follow the generation progress bar to see evolutionary cycles unfold with weather challenges
6. **Experiment**: Use pause/reset controls to study how different weather conditions affect evolutionary outcomes

## 🏗️ Architecture

```
🧬 Bugtopia Architecture
├── 🌍 Arena System          # Organic world generation and terrain physics
├── 🧠 AI Engine             # Neural networks and decision making
├── 🗣️ Communication System  # Signal propagation and social behaviors
├── 🦁 Species System        # Predator-prey dynamics and behaviors
├── 🔧 Tool System           # Construction, resources, and environmental modification
├── 🧬 Genetic Engine        # DNA, traits, and evolution
├── 🐛 Bug Entities          # Individual organism AI, physics, and construction
├── 🔄 Simulation Engine     # Population management and evolutionary cycles
└── 🎨 Visualization Layer   # SwiftUI + Canvas rendering with construction sites
```

### Core Components

- **`Arena`**: Organic world generation with 7 world types and spatial correlation
- **`NeuralNetwork`**: Evolvable AI brains with structural mutations
- **`Communication`**: Signal system with 8 types and propagation physics
- **`Species`**: Predator-prey types with hunting/defensive behaviors
- **`Tools`**: Construction system with 8 tool types, resources, and blueprints
- **`BugDNA`**: Genetic blueprint with 20+ traits including neural, communication, and tool genetics
- **`Bug`**: Individual organism with AI decision-making, construction abilities, and social communication
- **`SimulationEngine`**: Population dynamics, evolution, ecosystem management, construction, and resource economy
- **`SimulationView`**: Real-time rendering with neural networks, construction sites, tools, and resource visualization

## 🧪 The Science

### Neuroevolution Algorithm
1. **Initialization**: Random population with diverse genetics AND neural architectures
2. **Neural Decision Making**: AI brains process sensory input → behavioral output
3. **Ecosystem Pressure**: Predator-prey dynamics create complex survival challenges
4. **Selection Pressure**: Environmental + predation eliminate unfit individuals
5. **Reproduction**: Successful bugs mate using genetic + neural crossover
6. **Dual Mutation**: Both genetic traits AND neural structure mutate
7. **Structural Evolution**: Neural networks grow deeper and more complex
8. **Iteration**: Process creates increasingly intelligent populations

### Multi-Modal Selection Pressures
- **Predator-Prey Arms Race**: Hunters evolve better hunting AI, prey evolve better escape AI
- **Terrain-Based Selection**: Environmental challenges favor specific neural strategies
- **Energy Economics**: Efficient neural decision-making favored over wasteful behaviors
- **Social Dynamics**: Cooperation and competition create complex behavioral evolution
- **Cognitive Complexity**: More sophisticated problems require deeper neural networks

## 🎯 Use Cases

- **🔬 Educational**: Visualize evolutionary principles and natural selection
- **🧠 Research**: Study genetic algorithms and population dynamics  
- **🎮 Entertainment**: Watch fascinating emergent behaviors evolve
- **💻 Development**: Learn SwiftUI, Canvas, and genetic programming

## 🛠️ Customization

### Adding New Terrain Types
```swift
enum TerrainType: String, CaseIterable {
    case lava = "lava"  // New hazardous terrain
    
    var color: Color {
        case .lava: return Color.orange
    }
    
    func speedMultiplier(for bug: BugDNA) -> Double {
        case .lava: return bug.heatResistance > 0.7 ? 0.8 : 0.1
    }
}
```

### Extending Bug Genetics
```swift
struct BugDNA {
    // Add new trait
    let heatResistance: Double
    
    // Update fitness calculation
    var geneticFitness: Double {
        // Include new trait in fitness
    }
}
```

## 📈 Performance

- **30 FPS** real-time simulation
- **180+ bugs** simultaneous population
- **Efficient rendering** with SwiftUI Canvas
- **Optimized pathfinding** with obstacle avoidance
- **Memory management** for long-running simulations

## 🗺️ Roadmap

### ✅ COMPLETED: Phase 1-6.3 ✨
- [x] **Evolvable Neural Networks**: Deep AI brains (3-10 layers) with structural evolution
- [x] **Predator-Prey Ecosystem**: Four species with hunting/defensive behaviors
- [x] **Advanced Genetics**: Neural + behavioral + physical trait evolution
- [x] **Communication & Cooperation**: Signal-based pack hunting, group formation, and social intelligence
- [x] **Environmental Modification & Tool Use**: Construction system with 8 tool types and resource economy
- [x] **Speciation Events**: Population splitting, reproductive isolation, and dynamic species formation
- [x] **🌦️ Seasonal System**: Dynamic four-season cycle with environmental effects and neural awareness
- [x] **⛈️ Weather Patterns**: Six weather types with animated effects, survival challenges, and AI adaptation
- [x] **🌋 Natural Disasters**: Floods, earthquakes, wildfires, volcanic eruptions with terrain reshaping and evolutionary pressure

### 🚀 ACTIVE: Phase 6.4 - Environmental Cycles (Current Development)
- [ ] **🔄 Environmental Cycles**: Resource depletion, regeneration, and long-term ecosystem changes
- [ ] **🌍 Migration Patterns**: Seasonal migration, territorial behaviors, and habitat selection
- [ ] **🏛️ Civilization**: Cultural knowledge, technology, and multi-generational progress

### 🌟 Future Expansions
- [ ] **🧠 Neural Energy Economics**: Energy-based neural maintenance costs with intelligence vs efficiency trade-offs
- [ ] **🔬 Adaptive Brain Scaling**: Dynamic neural complexity based on environmental demands and resource availability
- [ ] **3D Arena**: True 3D terrain with flight and underwater capabilities
- [ ] **Quantum Behaviors**: Quantum-inspired neural network architectures
- [ ] **Multiplayer Evolution**: Compete isolated populations across different worlds
- [ ] **Real-World Integration**: Train on real environmental data

## 🤝 Contributing

We welcome contributions! Please see our [Contributing Guidelines](CONTRIBUTING.md) for details.

### Development Setup
```bash
# Fork the repo and clone your fork
git clone https://github.com/yourusername/bugtopia.git

# Create a feature branch
git checkout -b feature/amazing-new-trait

# Make your changes and test thoroughly
# Commit with descriptive messages
git commit -m "Add heat resistance trait for lava terrain"

# Push and create a pull request
git push origin feature/amazing-new-trait
```

## 📚 Technical Details

### Dependencies
- **Pure Swift**: No external dependencies
- **SwiftUI**: Native UI framework
- **Foundation**: Core utilities and data structures
- **Combine**: Reactive programming (optional)

### Minimum Requirements
- **iOS 17.0+** / **macOS 14.0+**
- **Xcode 15.0+**
- **Swift 6.0+**

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- **Charles Darwin**: For the inspiration from evolutionary theory
- **John Conway**: Game of Life cellular automata concepts  
- **Apple**: SwiftUI and development tools
- **Open Source Community**: Continuous inspiration and support

## 📞 Contact

- **Issues**: [GitHub Issues](https://github.com/yourusername/bugtopia/issues)
- **Discussions**: [GitHub Discussions](https://github.com/yourusername/bugtopia/discussions)
- **Email**: your.email@example.com

---

<div align="center">

**🧬 Made with ❤️ in Swift • Watch Evolution in Action • Contribute to Science! 🧬**

[⭐ Star this repo](https://github.com/yourusername/bugtopia) • [🐛 Report Bug](https://github.com/yourusername/bugtopia/issues) • [💡 Request Feature](https://github.com/yourusername/bugtopia/issues)

</div>
